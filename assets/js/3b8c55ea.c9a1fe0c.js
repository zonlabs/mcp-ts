"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6803],{208(e,s,n){n.d(s,{U:()=>v});n(6540);var i=n(9197),r=n(712),o=n(408),t=n(7613),l=n(1735),c=n(5399),d=n(4848);const a="#d82c20",h="#f59e0b",p="#eab308",u="#10b981",x="#64748b",j="#4b5563",g="#D82C20",m="#336791",f={database:{Icon:i.nBS,defaultColor:a},sync:{Icon:i.BVQ,defaultColor:u},tools:{Icon:i.Ph,defaultColor:x},chart:{Icon:i.v$b,defaultColor:h},lock:{Icon:i.JhU,defaultColor:j},idea:{Icon:i.ZPX,defaultColor:p},search:{Icon:i.VxX,defaultColor:x},book:{Icon:i.hko,defaultColor:j},success:{Icon:i.cxC,defaultColor:u},warning:{Icon:i.Ddf,defaultColor:h},error:{Icon:i.ts_,defaultColor:a},rocket:{Icon:i.uoG,defaultColor:a},bolt:{Icon:i.lHQ,defaultColor:p},target:{Icon:i.RBv,defaultColor:a},filesystem:{Icon:o.UCm,defaultColor:p},memory:{Icon:t.KNe,defaultColor:x},redis:{Icon:r.mIs,defaultColor:g},postgres:{Icon:l.rj_,defaultColor:m},backends:{Icon:c.hsL,defaultColor:a}},v=({type:e,size:s=20,className:n,style:i,color:r})=>{const o=f[e];if(!o)return null;const{Icon:t,defaultColor:l}=o;return(0,d.jsx)(t,{size:s,className:n,style:{color:r||l,display:"inline-block",verticalAlign:"middle",marginRight:"8px",...i}})}},7248(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"installation","title":"Installation","description":"Get started with mcp-ts in your JavaScript or TypeScript project.","source":"@site/docs/installation.md","sourceDirName":".","slug":"/installation","permalink":"/mcp-ts/docs/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/zonlabs/mcp-ts/tree/main/docs/docs/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/mcp-ts/docs/"},"next":{"title":"Next.js","permalink":"/mcp-ts/docs/nextjs"}}');var r=n(4848),o=n(8453),t=n(208);const l={sidebar_position:2},c="Installation",d={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install the Package",id:"install-the-package",level:2},{value:"Configure Storage Backend",id:"configure-storage-backend",level:2},{value:"<DocIcon></DocIcon> Option 1: Redis (Production)",id:"-option-1-redis-production",level:3},{value:"Local Redis Setup",id:"local-redis-setup",level:4},{value:"Cloud Redis Providers",id:"cloud-redis-providers",level:4},{value:"Environment Configuration",id:"environment-configuration",level:4},{value:"<DocIcon></DocIcon> Option 2: File System (Development)",id:"-option-2-file-system-development",level:3},{value:"<DocIcon></DocIcon> Option 3: In-Memory (Testing)",id:"-option-3-in-memory-testing",level:3},{value:"<DocIcon></DocIcon> PostgreSQL (Coming Soon)",id:"-postgresql-coming-soon",level:3},{value:"Storage Selection Logic",id:"storage-selection-logic",level:2},{value:"Verify Installation",id:"verify-installation",level:2},{value:"TypeScript Configuration",id:"typescript-configuration",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Storage Backend Issues",id:"storage-backend-issues",level:3},{value:"Module Resolution Errors",id:"module-resolution-errors",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"installation",children:"Installation"})}),"\n",(0,r.jsx)(s.p,{children:"Get started with mcp-ts in your JavaScript or TypeScript project."}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(s.p,{children:"Before installing, ensure you have:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node.js 18+"})," - ",(0,r.jsx)(s.a,{href:"https://nodejs.org/",children:"Download Node.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Package manager"})," - npm, yarn, or pnpm"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Storage Backend"})," (optional, defaults to in-memory):","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(t.U,{type:"redis",size:24})," ",(0,r.jsx)(s.strong,{children:"Redis"})," \u2014 Production distributed storage"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(t.U,{type:"filesystem",size:24})," ",(0,r.jsx)(s.strong,{children:"File System"})," \u2014 Local JSON persistence"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(t.U,{type:"memory",size:24})," ",(0,r.jsx)(s.strong,{children:"In-Memory"})," \u2014 Fast ephemeral storage"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(t.U,{type:"postgres",size:24})," ",(0,r.jsx)(s.strong,{children:"PostgreSQL"})," \u2014 Coming soon!"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"install-the-package",children:"Install the Package"}),"\n",(0,r.jsx)(s.p,{children:"Choose your preferred package manager:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install @mcp-ts/sdk\n"})}),"\n",(0,r.jsx)(s.h2,{id:"configure-storage-backend",children:"Configure Storage Backend"}),"\n",(0,r.jsx)(s.p,{children:"The library automatically selects a storage backend based on your environment variables. Choose the option that best fits your needs:"}),"\n",(0,r.jsxs)(s.h3,{id:"-option-1-redis-production",children:[(0,r.jsx)(t.U,{type:"redis",size:24})," Option 1: Redis (Production)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Recommended for production and serverless deployments."})}),"\n",(0,r.jsx)(s.h4,{id:"local-redis-setup",children:"Local Redis Setup"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# macOS (Homebrew)\nbrew install redis\nbrew services start redis\n\n# Ubuntu/Debian\nsudo apt-get install redis-server\nsudo systemctl start redis\n\n# Windows (WSL or Docker)\ndocker run -d -p 6379:6379 redis:latest\n"})}),"\n",(0,r.jsx)(s.h4,{id:"cloud-redis-providers",children:"Cloud Redis Providers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://upstash.com/",children:"Upstash"})})," - Serverless Redis (recommended for Vercel/serverless)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://redis.com/try-free/",children:"Redis Cloud"})})," - Managed Redis by Redis Labs"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/elasticache/",children:"AWS ElastiCache"})})," - Amazon's Redis service"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=redis\n\n# Redis connection URL (required)\nREDIS_URL=redis://localhost:6379\n\n# Or for cloud Redis (Upstash example)\nREDIS_URL=rediss://default:your-password@your-host.upstash.io:6379\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-option-2-file-system-development",children:[(0,r.jsx)(t.U,{type:"filesystem",size:24})," Option 2: File System (Development)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Perfect for local development with persistent sessions across restarts."})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=file\n\n# File path for session storage (required)\nMCP_TS_STORAGE_FILE=./sessions.json\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sessions are stored as JSON in the specified file. The directory is created automatically if it doesn't exist."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-option-3-in-memory-testing",children:[(0,r.jsx)(t.U,{type:"memory",size:24})," Option 3: In-Memory (Testing)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Fast ephemeral storage, ideal for testing. Sessions are lost on restart."})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=memory\n"})}),"\n",(0,r.jsxs)(s.p,{children:["This is the ",(0,r.jsx)(s.strong,{children:"default"})," if no storage configuration is provided."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-postgresql-coming-soon",children:[(0,r.jsx)(t.U,{type:"postgres",size:24})," PostgreSQL (Coming Soon)"]}),"\n",(0,r.jsx)(s.p,{children:"PostgreSQL support is planned for a future release."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"storage-selection-logic",children:"Storage Selection Logic"}),"\n",(0,r.jsx)(s.p,{children:"The library uses the following priority:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Explicit"}),": If ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_TYPE"})," is set, use that backend"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-detect Redis"}),": If ",(0,r.jsx)(s.code,{children:"REDIS_URL"})," is present, use Redis"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-detect File"}),": If ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_FILE"})," is present, use File"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Default"}),": Fall back to In-Memory storage"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,r.jsx)(s.p,{children:"Test your setup with a simple script:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// test-mcp.ts\nimport { storage } from '@mcp-ts/sdk/server';\n\nasync function test() {\n  const sessionId = storage.generateSessionId();\n  console.log('Generated session ID:', sessionId);\n\n  // Test storage backend\n  await storage.createSession({\n    sessionId,\n    identity: 'test-user',\n    serverId: 'test-server',\n    serverName: 'Test Server',\n    serverUrl: 'https://example.com',\n    callbackUrl: 'https://example.com/callback',\n    transportType: 'sse',\n    active: true,\n    createdAt: Date.now(),\n  });\n\n  const session = await storage.getSession('test-user', sessionId);\n  console.log('\u2713 Storage backend working!', session?.serverName);\n}\n\ntest();\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run the test:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"tsx test-mcp.ts\n# or\nts-node test-mcp.ts\n"})}),"\n",(0,r.jsx)(s.h2,{id:"typescript-configuration",children:"TypeScript Configuration"}),"\n",(0,r.jsxs)(s.p,{children:["If using TypeScript, ensure your ",(0,r.jsx)(s.code,{children:"tsconfig.json"})," includes:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "moduleResolution": "bundler", // or "node16"\n    "esModuleInterop": true,\n    "skipLibCheck": true\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/storage-backends",children:"Storage Backends"})," - Detailed backend comparison"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/nextjs",children:"Next.js Integration"})," - Set up with Next.js"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/react",children:"React Hook"})," - Use the React hook"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/api-reference",children:"API Reference"})," - Explore the API"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"storage-backend-issues",children:"Storage Backend Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": ",(0,r.jsx)(s.code,{children:"Error: Redis connection failed"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"})," (Redis):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Verify Redis is running: ",(0,r.jsx)(s.code,{children:"redis-cli ping"})," (should return ",(0,r.jsx)(s.code,{children:"PONG"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Check ",(0,r.jsx)(s.code,{children:"REDIS_URL"})," environment variable is set correctly"]}),"\n",(0,r.jsx)(s.li,{children:"Ensure firewall allows port 6379"}),"\n",(0,r.jsx)(s.li,{children:"For cloud Redis, verify credentials and SSL settings"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": File storage not persisting"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"})," (File):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Verify ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_FILE"})," path is writable"]}),"\n",(0,r.jsx)(s.li,{children:"Check directory permissions"}),"\n",(0,r.jsx)(s.li,{children:"Ensure the parent directory exists (it should be created automatically)"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Sessions lost on restart"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"If using in-memory storage (default), this is expected behavior"}),"\n",(0,r.jsx)(s.li,{children:"Switch to Redis or File storage for persistence"}),"\n",(0,r.jsxs)(s.li,{children:["Set ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_TYPE=file"})," or configure ",(0,r.jsx)(s.code,{children:"REDIS_URL"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"module-resolution-errors",children:"Module Resolution Errors"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": ",(0,r.jsx)(s.code,{children:"Cannot find module '@mcp-ts/sdk/server'"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Clear node_modules: ",(0,r.jsx)(s.code,{children:"rm -rf node_modules && npm install"})]}),"\n",(0,r.jsx)(s.li,{children:"Check TypeScript configuration"}),"\n",(0,r.jsxs)(s.li,{children:["Update to latest version: ",(0,r.jsx)(s.code,{children:"npm update @mcp-ts/sdk"})]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);