"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4828],{773(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"node-express","title":"Node/Express Integration","description":"Node/Express Support","source":"@site/docs/node-express.md","sourceDirName":".","slug":"/node-express","permalink":"/mcp-ts/docs/node-express","draft":false,"unlisted":false,"editUrl":"https://github.com/zonlabs/mcp-redis/tree/main/docs/docs/node-express.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Next.js Integration","permalink":"/mcp-ts/docs/nextjs"},"next":{"title":"React Hook","permalink":"/mcp-ts/docs/react"}}');var r=s(4848),i=s(8453),o=s(712);const c={sidebar_position:4},d="Node/Express Integration",l={},a=[{value:"Server-Side Setup",id:"server-side-setup",level:2},{value:"Step 1: Install Dependencies",id:"step-1-install-dependencies",level:3},{value:"Step 2: Create SSE Handler",id:"step-2-create-sse-handler",level:3},{value:"Step 3: Mount the Router",id:"step-3-mount-the-router",level:3},{value:"Client-Side Setup",id:"client-side-setup",level:2},{value:"Using with React",id:"using-with-react",level:3},{value:"Environment Configuration",id:"environment-configuration",level:2},{value:"Next Steps",id:"next-steps",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"nodeexpress-integration",children:"Node/Express Integration"})}),"\n","\n",(0,r.jsxs)("h1",{children:[(0,r.jsx)(o.t5I,{style:{verticalAlign:"middle",marginRight:"10px"}})," Node/Express Support"]}),"\n",(0,r.jsx)(n.p,{children:"Complete guide for integrating mcp-ts with Node.js and Express applications."}),"\n",(0,r.jsx)(n.h2,{id:"server-side-setup",children:"Server-Side Setup"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-install-dependencies",children:"Step 1: Install Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install express @mcp-ts/redis\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-create-sse-handler",children:"Step 2: Create SSE Handler"}),"\n",(0,r.jsxs)(n.p,{children:["Create a file named ",(0,r.jsx)(n.code,{children:"mcp-handler.ts"})," (or ",(0,r.jsx)(n.code,{children:".js"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import express from 'express';\nimport { createSSEHandler } from '@mcp-ts/redis/server';\n\nconst router = express.Router();\n\nrouter.get('/sse', (req, res) => {\n  const identity = req.query.identity as string;\n\n  if (!identity) {\n    return res.status(400).json({ error: 'identity required' });\n  }\n\n  const sseHandler = createSSEHandler({\n    identity,\n    heartbeatInterval: 30000,\n    // Optional: add custom logic here\n  });\n\n  return sseHandler(req, res);\n});\n\n// For handling RPC requests (connect, callTool, etc.)\nrouter.post('/rpc', express.json(), async (req, res) => {\n  // RPC handling logic is typically integrated into the SSE handler \n  // if you use the built-in createSSEHandler POST support.\n});\n\nexport default router;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-mount-the-router",children:"Step 3: Mount the Router"}),"\n",(0,r.jsxs)(n.p,{children:["In your main ",(0,r.jsx)(n.code,{children:"app.ts"})," or ",(0,r.jsx)(n.code,{children:"index.ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import express from 'express';\nimport mcpRouter from './mcp-handler';\n\nconst app = express();\n\napp.use('/api/mcp', mcpRouter);\n\napp.listen(3000, () => {\n  console.log('Server running on http://localhost:3000');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"client-side-setup",children:"Client-Side Setup"}),"\n",(0,r.jsxs)(n.p,{children:["You can use the ",(0,r.jsx)(n.code,{children:"@mcp-ts/redis/client"})," in any frontend application."]}),"\n",(0,r.jsx)(n.h3,{id:"using-with-react",children:"Using with React"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useMcp } from '@mcp-ts/redis/client';\n\nexport function McpApp() {\n  const { connections, connect, status } = useMcp({\n    url: 'http://localhost:3000/api/mcp/sse?identity=user-123',\n    identity: 'user-123',\n  });\n\n  const handleConnect = () => {\n    connect({\n      serverId: 'my-server',\n      serverName: 'Local Server',\n      serverUrl: 'http://localhost:8080',\n    });\n  };\n\n  return (\n    <div>\n      <h1>Status: {status}</h1>\n      <button onClick={handleConnect}>Connect</button>\n      {/* Render connections and tools */}\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Ensure your Express server has access to Redis:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"REDIS_URL=redis://localhost:6379\n"})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/mcp-ts/docs/nextjs",children:"Next.js Integration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/mcp-ts/docs/react",children:"React Hook API"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/mcp-ts/docs/storage-backends",children:"Storage Backends"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);