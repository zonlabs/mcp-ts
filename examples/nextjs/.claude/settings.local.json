{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: add Next.js integration, OAuth flow, and enhanced developer experience\n\nThis major update significantly improves the developer experience with zero-boilerplate Next.js integration, complete OAuth 2.0 flow, and comprehensive logging.\n\n**Next.js Integration:**\n- Add createNextMcpHandler\\(\\) for zero-config Next.js App Router support\n- Reduces route handler from 150+ lines to just 18 lines\n- Automatic SSE connection management and lifecycle handling\n- Built-in support for custom auth validation\n\n**Complete OAuth 2.0 Flow:**\n- Automatic OAuth URL generation when servers require authentication\n- Auto-redirect users to OAuth authorization pages\n- OAuth callback page with beautiful UI \\(loading/success/error states\\)\n- finishAuth RPC method to complete authorization flow\n- Seamless token exchange and storage in Redis\n\n**Session Management:**\n- Automatic session restoration on page reload with autoInitialize\n- Race condition fixes with connection promise pattern\n- Comprehensive session logging for debugging\n\n**Enhanced Error Handling & Logging:**\n- Detailed connection lifecycle logging at each step\n- Error context includes server URL, transport type, and stack traces\n- OAuth-specific error handling with clear user feedback\n- Debug logs for configuration, token validation, and transport creation\n\n**Client Improvements:**\n- Fix URL construction to support relative URLs in browser\n- Connection promise ensures SSE is ready before sending requests\n- Auto-redirect on auth_required events\n- Transport type selector \\(SSE vs Streamable HTTP\\)\n\n**Examples:**\n- Complete Next.js example with MCP dashboard UI\n- OAuth callback page with status indicators\n- Transport type selection and form validation\n- React example with connection management\n\n**Breaking Changes:**\n- None - fully backward compatible\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
